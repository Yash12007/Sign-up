<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Yash12007 | A software development company</title>
    <link rel="icon" href="https://icons.getbootstrap.com/assets/icons/box.svg">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  </head>
  <style>
    body{
        background: black;
        color: white;
        overflow: hidden;
    }
    #signup-box{
        position: fixed;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        place-items: center;
        display: grid;
    }
    #load{
        background-image: linear-gradient(to right, cyan, blue);
        position: absolute;
        top: 55px;
        left: 0;
        height: 3px;
        width: 100%;
        animation: 1.5s loading;
    }
    @keyframes loading {
        0%{
            width: 0%;
        }
        100%{
            width: 100%;
        }
    }
  </style>
  <body>
    <div id="signup-box">
        <div class="card" style="width: 18rem;" data-bs-theme="dark">
            <img src="https://icons.getbootstrap.com/assets/icons/box.svg" class="card-img-top" alt="Logo.">
            <div class="card-body">
              <h5 class="card-title">Sign up to Yash12007</h5>
              <p class="card-text">
                Welcome to Yash12007, a software development company dedicated to providing high-quality software & solutions.
                <br>
                <a href="https://yash12007.github.io/Max">View documentation</a>
              </p>
              <a onclick='signInWithGoogle()' class="btn btn-primary">
                <i class="bi bi-google"></i>
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-google" viewBox="0 0 16 16">
                    <path d="M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"/>
                </svg>
                Sign up with Google
              </a>
            </div>
        </div>
    </div>
    <nav class="navbar navbar-expand-lg" data-bs-theme="dark">
        <div class="container-fluid">
          <a class="navbar-brand" href="https://yash12007.github.io/">
            <i class="bi bi-box"></i>
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-box" viewBox="0 0 16 16">
                <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"/>
            </svg>
            Yash12007
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="https://yash12007.github.io/">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="https://yash12007.github.io/Max/#about">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="https://yash12007.github.io/Max#services">Services</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="https://yash12007.github.io/Max/contact.html">Contact</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="https://yash12007.github.io/Max#privacy-policy">Privacy Policy</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="https://yash12007.github.io/Max#terms-conditions">Terms & Conditions</a>
              </li>
            </ul>
          </div>
        </div>
    </nav>
    <div id="load"></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>
  <script>
    function signInWithGoogle() {
        const datetime = Date();
        fetch('https://api64.ipify.org?format=json')
        .then(response => response.json())
        .then(data => {
            const ipAddress = data.ip;
            localStorage.setItem('IP', ipAddress);
        })
        .catch(error => {
            console.error('Error:', error);
        });
        localStorage.setItem('Signup-date', datetime);
        const clientId = '364524252352-mueplfnejbmn0jupc9ut4j7kdsf7md8s.apps.googleusercontent.com';
        const redirectUri = 'https://yash12007.github.io/';
        const googleSignInUrl = `https://accounts.google.com/o/oauth2/v2/auth?client_id=${clientId}&redirect_uri=${redirectUri}&response_type=token&scope=email%20profile`;
        window.open(googleSignInUrl, '_self');
    }
    // Function to fetch user information from Google API
    function getUserInfo(accessToken) {
        const userInfoUrl = `https://www.googleapis.com/oauth2/v2/userinfo?access_token=${accessToken}`;
        try{
            localStorage.setItem('account', userInfoUrl);
        } catch(e){
            alert('Error while add account in your device');
        }
        fetch(userInfoUrl)
            .then(response => response.json())
            
            .then(data => {
                // Update the user-info element with user account information
                const userInfoElement = document.getElementById('user-info');
                userInfoElement.innerHTML = `
                    <img src='${data.picture}' alt='Profile Picture' width='30' height='30' style='border-radius: 50%; margin-right: 5px;'>
                    Welcome, ${data.name}
                `;
            })
            .catch(error => console.error('Error fetching user information:', error));
    }
    // Function to handle the redirect after successful sign-in with Google
    function handleGoogleSignIn() {
        const urlParams = new URLSearchParams(window.location.hash.substr(1));
        const accessToken = urlParams.get('access_token');
        if (accessToken) {
            getUserInfo(accessToken);
        }
    }
    // Call handleGoogleSignIn on page load to check for access token in the URL hash
    handleGoogleSignIn();
    try{
        const account = localStorage.getItem('account');
        if (account == null){
            console.log('No account founded');
        }else{
            fetch(account)
            .then(response => response.json())
            .then(data => {
                const userInfoElement = document.getElementById('user-info');
                userInfoElement.innerHTML = `
                    <img src='${data.picture}' alt='Profile Picture' width='30' height='30' style='border-radius: 50%; margin-right: 5px;'>
                    Welcome, ${data.name}
                `;
            })
            .catch(error => console.error('Error fetching user information:', error));
        }
    } catch(error){
        console.log(error);
    }
  </script>
</html>
